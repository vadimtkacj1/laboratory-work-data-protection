# Лабораторна робота №4: Особистий цифровий підпис

## Опис

Ця лабораторна робота демонструє принципи роботи системи цифрових підписів на основі асиметричного шифрування. Реалізовано спрощену систему для навчальних цілей, яка показує основні концепції криптографії та захисту цілісності даних.

## Функціональність

### 1. Генерація пари ключів
- **Приватний ключ**: генерується на основі персональних даних (ім'я + дата народження + секретне слово) за допомогою SHA-256
- **Публічний ключ**: математично пов'язаний з приватним ключем (приватний_ключ × 7 mod 1000007)

### 2. Підписання документів
- Створення хешу документа за допомогою SHA-256
- Шифрування хешу приватним ключем (операція XOR з використанням BigInt для точності)
- Збереження підпису для подальшої перевірки

### 3. Перевірка підпису
- Розшифрування підпису приватним ключем (відновленим з публічного ключа)
- Порівняння розшифрованого хешу з хешем поточного документа
- Визначення валідності підпису з детальною діагностикою

### 4. Виявлення змін
- Демонстрація виявлення модифікацій документів
- Показ різниці між оригінальним та зміненим документом
- Візуалізація процесу перевірки

## Структура проекту

```
lab04/
├── index.html          # Головний HTML файл з інтерфейсом
├── style.css           # Стилізація інтерфейсу
├── script.js           # JavaScript логіка системи
└── README.md           # Документація
```

## Як використовувати

### Запуск веб-інтерфейсу

1. Відкрийте файл `index.html` у сучасному веб-браузері (Chrome, Firefox, Edge, Safari)
2. Заповніть персональні дані:
   - **Прізвище** (наприклад: Ткаченко)
   - **Дата народження** у форматі ДД.ММ.РРРР (наприклад: 21.09.2005)
   - **Секретне слово** (наприклад: secret_word)
3. Натисніть кнопку **"Згенерувати пару ключів"**
4. Введіть текст документа для підписання в поле **"Вміст документа"**
5. Натисніть кнопку **"Підписати документ"**
6. Використайте розділ **"Перевірка підпису"** для верифікації підпису
7. Спробуйте **"Демонструвати виявлення змін"** для тестування системи

### Покрокова інструкція

#### Крок 1: Генерація ключів
1. Заповніть всі поля персональних даних
2. Натисніть "Згенерувати пару ключів"
3. Система відобразить приватний та публічний ключі
4. Можна завантажити ключі у файли для збереження

#### Крок 2: Підписання документа
1. Введіть текст документа в поле "Вміст документа"
2. Натисніть "Підписати документ"
3. Система покаже хеш документа та створений цифровий підпис
4. Можна завантажити підпис у файл

#### Крок 3: Перевірка підпису
1. Введіть текст документа для перевірки (або використайте автоматично заповнене поле)
2. Введіть публічний ключ (або використайте автоматично заповнений)
3. Введіть цифровий підпис (або використайте автоматично заповнений)
4. Натисніть "Перевірити підпис"
5. Система покаже результат: дійсний або підроблений

#### Крок 4: Демонстрація виявлення змін
1. Підпишіть документ (Крок 2)
2. Натисніть "Демонструвати виявлення змін"
3. Система автоматично модифікує документ і покаже, як виявляються зміни

## Принципи роботи

### Алгоритм генерації ключів

1. **Приватний ключ**:
   ```
   key_string = ім'я + дата_народження + секретне_слово
   hash = SHA-256(key_string)
   приватний_ключ = перші_16_символів_хешу mod 1000007
   ```

2. **Публічний ключ**:
   ```
   публічний_ключ = (приватний_ключ × 7) mod 1000007
   ```

### Алгоритм підписання

1. Створення хешу документа: `hash = SHA-256(документ)`
2. Витяг перших 16 символів хешу
3. Конвертація в BigInt для точності
4. Підписання: `підпис = hash XOR приватний_ключ` (використовуючи BigInt)
5. Конвертація підпису в hex-рядок

### Алгоритм перевірки

1. Створення хешу поточного документа: `hash = SHA-256(документ)`
2. Витяг перших 16 символів хешу
3. Розшифрування підпису: 
   - Якщо приватний ключ доступний: `розшифрований_хеш = підпис XOR приватний_ключ`
   - Якщо ні: відновлення приватного ключа з публічного, потім розшифрування
4. Порівняння hex-рядків: `розшифрований_хеш == hash`
5. Результат: "Підпис ДІЙСНИЙ" або "Підпис ПІДРОБЛЕНИЙ"

### Чому використовується BigInt?

JavaScript має обмеження точності для звичайних чисел (Number.MAX_SAFE_INTEGER = 2^53 - 1). 16 символів hex-рядка = 64 біти, що перевищує цю межу. BigInt дозволяє працювати з довільними великими числами без втрати точності.

## Технічні деталі

### Використані технології

- **HTML5** - структура інтерфейсу
- **CSS3** - стилізація з градієнтами та анімаціями
- **JavaScript (ES6+)** - логіка системи
- **Web Crypto API** - для SHA-256 хешування
- **BigInt** - для роботи з великими числами без втрати точності

### Особливості реалізації

- Використання Web Crypto API для безпечного хешування
- Операція XOR для спрощеного "шифрування" (демонстраційна мета)
- Модульна арифметика для генерації публічного ключа
- BigInt для точної роботи з великими числами
- Автоматичне заповнення полів для зручності
- Детальна діагностика при перевірці підписів
- Завантаження ключів та підписів у файли

### Вимоги до системи

- Сучасний веб-браузер з підтримкою:
  - Web Crypto API
  - ES6+ JavaScript
  - BigInt
  - CSS3

### Підтримувані браузери

- Google Chrome 67+
- Mozilla Firefox 68+
- Microsoft Edge 79+
- Safari 14+
- Opera 54+

## Важливі зауваження

⚠️ **Це спрощена демонстраційна система!**

У реальних системах цифрових підписів використовуються:
- Складніші алгоритми (RSA, ECDSA, EdDSA)
- Великі прості числа для безпеки
- Стандартизовані протоколи (PKCS#1, PKCS#7)
- Сертифікати та центри сертифікації (CA)
- Захист від атак типу timing attacks

Ця лабораторна робота призначена для розуміння **принципів** роботи цифрових підписів, а не для реального використання в продакшені.

## Приклади використання

### Приклад 1: Підписання резюме

1. Введіть персональні дані: "Ткаченко", "21.09.2005", "secret_word"
2. Згенеруйте ключі
3. Введіть текст резюме
4. Підпишіть документ
5. Збережіть підпис

### Приклад 2: Перевірка підпису

1. Введіть текст документа (оригінальний або модифікований)
2. Введіть публічний ключ
3. Введіть цифровий підпис
4. Натисніть "Перевірити підпис"
5. Отримайте результат: дійсний або підроблений

### Приклад 3: Виявлення змін

1. Підпишіть документ
2. Натисніть "Демонструвати виявлення змін"
3. Система автоматично модифікує документ
4. Перевірте, що система виявила зміни

## Діагностика проблем

### Підпис завжди недійсний

- Перевірте, що використовується той самий документ, що був підписаний
- Переконайтеся, що публічний ключ правильний
- Перевірте, що підпис не був змінений

### Помилка при генерації ключів

- Переконайтеся, що всі поля персональних даних заповнені
- Перевірте формат дати народження (ДД.ММ.РРРР)

### Помилка при перевірці

- Переконайтеся, що публічний ключ введено правильно
- Перевірте формат підпису (hex-рядок)

## Автор

Лабораторна робота виконана в рамках курсу "Кібербезпека"

## Ліцензія

Навчальний проект

