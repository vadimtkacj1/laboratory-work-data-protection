# Лабораторна робота №3: Стеганографія - Приховування даних у зображеннях

## Опис

Ця лабораторна робота демонструє принципи роботи стеганографії - мистецтва приховування інформації в інших даних. Реалізовано систему приховування текстової інформації в зображеннях за допомогою методу LSB (Least Significant Bit - найменш значущий біт).

## Функціональність

### Реалізовані функції

1. **`hide_message()`** - приховує текстове повідомлення в зображенні
   - Конвертує текст у двійковий формат
   - Замінює молодші біти пікселів бітами повідомлення
   - Зберігає модифіковане зображення

2. **`extract_message()`** - витягує приховане повідомлення зі зображення
   - Читає молодші біти пікселів
   - Конвертує двійкові дані назад у текст
   - Повертає оригінальне повідомлення

### Допоміжні функції

- **`text_to_bits()`** - конвертує текст у двійковий рядок
- **`bits_to_text()`** - конвертує двійковий рядок назад у текст

## Структура проекту

```
lab03/
├── steganography.py    # Основна програма з реалізацією стеганографії
├── input.png           # Вхідне зображення
├── stego_output.png    # Зображення з прихованим повідомленням
└── README.md           # Документація
```

## Як використовувати

### Вимоги

- Python 3.6+
- Бібліотека Pillow (PIL): `pip install Pillow`

### Встановлення залежностей

```bash
pip install Pillow
```

### Базове використання

#### Приховування повідомлення

```python
from steganography import hide_message

hide_message("input.png", "output.png", "Ваше повідомлення тут")
```

#### Витягування повідомлення

```python
from steganography import extract_message

message = extract_message("output.png")
print(message)
```

### Приклад виконання

```bash
python steganography.py
```

Програма автоматично:
1. Приховує повідомлення в `input.png`
2. Зберігає результат у `stego_output.png`
3. Витягує повідомлення з `stego_output.png`
4. Виводить результат

## Принципи роботи

### Що таке LSB (Least Significant Bit)?

LSB - це найменш значущий біт у двійковому представленні числа. У зображеннях кожен піксель має три канали кольору (RGB), кожен з яких може зберігати значення від 0 до 255 (8 біт).

### Чому використовуються молодші біти?

1. **Мінімальний візуальний вплив**: Зміна молодшого біта змінює значення кольору максимум на 1, що практично непомітно для людського ока
2. **Висока місткість**: У зображенні розміром 1000×1000 пікселів можна приховати до 3,000,000 біт (375 КБ) інформації
3. **Простота реалізації**: Не потребує складних алгоритмів

### Алгоритм приховування

1. **Конвертація тексту в двійковий формат**:
   - Кожен символ конвертується в 8-бітний двійковий код (ASCII)
   - Наприклад: 'A' = 65 = `01000001`

2. **Читання пікселів зображення**:
   - Зображення конвертується в RGB формат
   - Кожен піксель має три канали: Red, Green, Blue

3. **Заміна молодших бітів**:
   - Для кожного каналу кольору замінюється найменш значущий біт
   - Формула: `новий_канал = (старий_канал & ~1) | біт_повідомлення`
   - `& ~1` - обнуляє молодший біт
   - `| біт_повідомлення` - встановлює новий біт

4. **Збереження зображення**:
   - Модифіковані пікселі зберігаються у новий файл

### Алгоритм витягування

1. **Читання молодших бітів**:
   - Для кожного пікселя читаються молодші біти всіх трьох каналів
   - Формула: `біт = канал & 1`

2. **Збір двійкових даних**:
   - Біти збираються в послідовність
   - Групується по 8 біт (1 байт = 1 символ)

3. **Конвертація в текст**:
   - Кожен байт конвертується в символ ASCII
   - Повідомлення обрізається до маркера кінця (`###`)

## Технічні деталі

### Обмеження місткості

Максимальна місткість залежить від розміру зображення:
```
Місткість (біт) = ширина × висота × 3
Місткість (символи) = місткість (біт) / 8
```

**Приклади:**
- 100×100 пікселів = 30,000 біт = 3,750 символів
- 1000×1000 пікселів = 3,000,000 біт = 375,000 символів

### Маркер кінця повідомлення

Використовується маркер `###` для визначення кінця прихованого повідомлення. Це дозволяє:
- Витягувати тільки корисні дані
- Не читати зайві біти після повідомлення
- Уникати помилок при витягуванні

### Формати зображень

Програма працює з форматами, які підтримує PIL:
- PNG (рекомендовано - без втрат)
- BMP (без втрат)
- TIFF (без втрат)
- JPEG (не рекомендовано - стиснення може зіпсувати дані)

## Порядок виконання практичної частини

### Крок 1: Дослідження готових стеганографічних інструментів

1. Завантажити програму Steghide або скористатися онлайн-сервісами
2. Інструкція з встановлення Steghide: https://labex.io/tutorials/hide-data-in-steghide-549941
3. Спробувати приховати текстове повідомлення в зображенні
4. Витягнути приховане повідомлення та переконатися в його цілісності
5. Опанувати основні принципи роботи LSB-стеганографії

### Крок 2: Приховування даних у зображенні

1. Обрати власне фото або улюблене зображення
2. Приховати повне ім'я та дату народження у файлі
3. Використати реалізовану програму для стеганографії
4. Порівняти оригінал та модифіковане зображення візуально
5. Провести детальний порівняльний аналіз:
   - Перейти на https://www.img2go.com/compare-image
   - Завантажити оригінальне зображення та стегоконтейнер
   - Проаналізувати карту відмінностей з підсвіткою
   - Вивчити числові метрики: процент відмінностей, кількість змінених пікселів по каналах RGB
   - Зробити висновки про візуальну непомітність внесених змін

### Крок 3: Пошук прихованих повідомлень

1. Завантажити 2-3 зображення з відкритих джерел (Unsplash, Pixabay)
2. Спробувати виявити приховану інформацію за допомогою онлайн-інструментів
3. Використати різні методи пошуку:
   - Аналіз LSB
   - Аналіз гістограм
   - Аналіз метаданих
4. Задокументувати процес та використані інструменти

### Крок 4: Аналіз метаданих

1. Дослідити EXIF-дані власних фотографій
2. Визначити потенційні витоки особистої інформації через метадані
3. Очистити метадані перед публікацією в соціальних мережах

## Демонстрація розуміння

### Чому використовуються молодші біти?

- **Мінімальний візуальний вплив**: Зміна на ±1 у значенні кольору (0-255) практично непомітна
- **Висока місткість**: Кожен піксель може зберігати 3 біти інформації
- **Простота**: Не потребує складних математичних операцій

### Як текст перетворюється на двійковий код?

1. Кожен символ має числове значення (ASCII код)
2. Число конвертується в двійковий формат (8 біт)
3. Біти з'єднуються в послідовність
4. Кожен біт замінює молодший біт відповідного каналу кольору

**Приклад:**
```
Текст: "Hi"
'H' = 72 = 01001000
'i' = 105 = 01101001
Двійковий рядок: "0100100001101001"
```

### Демонстрація візуальної незмінності

Після приховування повідомлення:
- Зображення виглядає ідентично оригіналу
- Розмір файлу залишається практично незмінним
- Зміни відбуваються тільки в молодших бітах (найменш значущих)
- Візуальна різниця між оригіналом та стегоконтейнером непомітна

## Аналіз змін в зображенні

### Розмір файлу

- Розмір файлу залишається практично незмінним
- Невеликі відмінності можуть виникати через різні алгоритми стиснення

### Візуальні відмінності

- Візуально зображення виглядає ідентично оригіналу
- Зміни відбуваються тільки в молодших бітах
- Максимальна зміна кольору: ±1 (з 256 можливих значень)

### Порівняльний аналіз

Для детального аналізу використовуйте:
- https://www.img2go.com/compare-image - порівняння зображень
- Аналіз гістограм RGB каналів
- Статистичний аналіз розподілу значень пікселів

## Обмеження та застереження

### Обмеження

1. **Місткість**: Залежить від розміру зображення
2. **Формат**: JPEG не рекомендовано через стиснення з втратами
3. **Безпека**: LSB стеганографія легко виявляється спеціальними інструментами
4. **Стиснення**: Будь-яке стиснення з втратами може зіпсувати приховані дані

### Застереження

⚠️ **Це навчальна реалізація!**

- Не використовуйте для реального приховування конфіденційних даних
- LSB легко виявляється стеганоаналізом
- Для реального застосування використовуються складніші методи

## Технічні вимоги

### Системні вимоги

- Python 3.6 або новіший
- Операційна система: Windows, Linux, macOS

### Залежності

```txt
Pillow>=8.0.0
```

### Встановлення

```bash
# Встановлення через pip
pip install Pillow

# Або через requirements.txt
pip install -r requirements.txt
```

## Приклади використання

### Приклад 1: Приховування персональних даних

```python
from steganography import hide_message, extract_message

# Персональні дані
name = "Ткаченко Вадим"
birth_date = "21.09.2005"
group = "6.04.122.010.22.2"

message = f"{name}, група {group}, дата народження {birth_date}"

# Приховування
hide_message("my_photo.png", "my_photo_stego.png", message)

# Витягування
extracted = extract_message("my_photo_stego.png")
print(f"Витягнуте повідомлення: {extracted}")
```

### Приклад 2: Перевірка цілісності

```python
original_message = "Тестове повідомлення"
hide_message("input.png", "output.png", original_message)

extracted_message = extract_message("output.png")

if original_message == extracted_message:
    print("✓ Повідомлення успішно приховано та витягнуто!")
else:
    print("✗ Помилка: повідомлення не співпадає")
```

## Висновки

### Що було досягнуто

1. ✅ Реалізовано функції `hide_message()` та `extract_message()`
2. ✅ Продемонстровано розуміння принципів LSB стеганографії
3. ✅ Показано роботу на персональних даних
4. ✅ Проведено аналіз змін в зображенні

### Ключові висновки

- LSB стеганографія дозволяє приховувати дані без візуальних змін
- Місткість залежить від розміру зображення
- Метод простий у реалізації, але легко виявляється
- Для реального застосування потрібні складніші методи

## Автор

Лабораторна робота виконана в рамках курсу "Кібербезпека"

## Ліцензія

Навчальний проект

